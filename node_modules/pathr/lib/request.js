'use strict';

var url = require('url'),
	query = require('querystring');

/**
 *	Parse query string
 */
exports.parseQuery = function(req) {
	var rurl = req.url,
		urlObj = url.parse(rurl),
		querystring = query.parse(urlObj.query);
	
	req.query = querystring || {};
};

/**
 *	Prepare the url for matching
 *	@param {String} url
 *	@return {String}
 */
exports.prepareUrl = function(url) {
	if (url.indexOf('?') == -1) return url;
	return url.split('?')[0];
};
