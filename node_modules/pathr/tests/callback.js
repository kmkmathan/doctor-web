'use strict';

var assert = require('chai').assert;

var pathr = require('../index.js'),
	pathr = new pathr;

pathr.config('views', __dirname);
pathr.config('view_engine', require('jade').__express);

describe('pathr', function(){

	var req = {
		url: '/foo/bar',
		method: 'GET',
		body: {
			names:'Your mom'
		},
	};

	var res = {
		write: function(){},
		writeHead: function(){},
	};

	var cb = function(req, res, done) {
		res.locals = req.body;
		done();
	};

	var done = function(req, res) {
		describe('pathr#route()', function(){
			it('callbacks a function instead of options', function(){
				assert.isObject(req);
				assert.isObject(res);
			});
		});
	};

	describe('pathr#get()', function(){
		it('registers a get', function(){
			pathr.get('/foo/bar', cb, done);
			assert.ok(1);
		});
	});

	describe('pathr#route()', function(){
		it('routes a path with a callback', function(){
			pathr.route(req, res);
		});
	});

});
